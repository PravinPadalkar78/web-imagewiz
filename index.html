<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>ImageWiz</title>
</head>

<body>


    <h1>ImageWiz</h1>
    <div class="container box">
        <div class=" pic">
            <h3>Selected Image</h3>
            <input type="file" id="image_input" accept="image/*">
            <div class="display_image"></div>
        </div>
        <div class="controls ">
            <h3>Controls</h3>
            <label>Hue-rotate</label>
            <input type="range" min="0" max="360" value="0" data-filter="hue-rotate" onchange="applyFilter()"
                data-scale="deg"><br>
            <label>Saturate</label>
            <input type="range" min="0" max="100" value="100" data-filter="saturate" onchange="applyFilter()"
                data-scale="%"><br>
            <label>Opacity</label>
            <input type="range" min="50" max="100" value="100" data-filter="opacity" onchange="applyFilter()"
                data-scale="%"><br>   
            <label>Contrast</label>
            <input type="range" min="0" max="200" value="100" data-filter="contrast" onchange="applyFilter()"
                data-scale="%"><br>
            <label>Grayscale</label>
            <input type="range" min="0" max="100" value="0" data-filter="grayscale" onchange="applyFilter()"
                data-scale="%"><br>
            <label>Blur</label>
            <input type="range" min="0" max="10" step="1" value="0" data-filter="blur" onChange="applyFilter()"
                data-scale="px"><br>
            <label>Brigtness</label>
            <input type="range" min="1" max="40" value="1" data-filter="brightness" onchange="applyFilter()"
                data-scale=""><br>
            
            <label>Sepia</label>
            <input type="range" min="0" max="100" value="0" data-filter="sepia" onchange="applyFilter()"
                data-scale="%"><br>
        </div>
    </div>
    <script>
        window.onload = function () {
            const image_input = document.querySelector("#image_input");
            var uploaded_img = "";

            image_input.addEventListener("change", () => {
                const reader = new FileReader();
                reader.addEventListener("load", () => {
                    uploaded_img = reader.result;
                    document.querySelector(".display_image").style.backgroundImage = `url(${uploaded_img})`;
                })
                reader.readAsDataURL(image_input.files[0]);

            });


        }
        const image = document.querySelector(".display_image");
        var filterControls = document.querySelectorAll('input[type=range]');
        
        function applyFilter() {
            var computedValue = "";
            filterControls.forEach(function (item) {
                computedValue += item.getAttribute('data-filter') + "(" + item.value + item.getAttribute('data-scale') + ") ";
            });
            image.style.filter = computedValue;
            console.log("Bas Kar Bhau");
        }



    </script>
    <script language=JavaScript>

        <!-- http://www.spacegun.co.uk -->
        
        var message = "Not Available";
        
        function rtclickcheck(keyp){ if (navigator.appName == "Netscape" && keyp.which == 3){ alert(message); return false; }
        
        if (navigator.appVersion.indexOf("MSIE") != -1 && event.button == 2) { alert(message); return false; } }
        
        document.onmousedown = rtclickcheck;
        
        </script>


</body>


</html>